% ##########################################################################
% ############################# Übungsblatt 01 #############################
% ##########################################################################
\section{Übungsblatt}
\label{sec:uebung_01}

% ############################### Aufgabe 01 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_01}
Lade die SQL-Datei \href{https://raw.githubusercontent.com/fh-trier/tgdb_ws1819/master/sql/schema_01.sql}{schema\_01.sql} von \href{https://raw.githubusercontent.com/fh-trier/tgdb_ws1819/master/sql/schema_01.sql}{github.com} auf deinen PC herunter. Starten das SQL-Skript mittels SQL-Plus. Wie sieht zum starten des SQL-Skripts der Befehl in SQL-Plus aus?

\begin{info-popup}
  Nach laden des Schemas können alle Tabellen und Views mit einem Befehl in SQL-Plus ausgegeben werden. \\
  \sqlinline{SELECT * FROM tab;}
\end{info-popup}

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_01.loesung}
\inputsql{sql/uebung_01/aufgabe_01.sql}

% ############################### Aufgabe 02 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_02}
Gebe dir alle Datensätze aus der Tablle \texttt{EMPLOYEES} aus.

\begin{info-popup}
Du kannst die Ausgabe in SQL-Plus anpassen. Nutze dazu den SQL-Plus Befehl
\texttt{COLUMN <spalte> FORMAT <format>}

Beispielsweise: \texttt{COLUMN EMPLOYEE\_FIRSTNAME FORMAT a20}.

Eine vordefinierte Formatierungseinstellung ist auf \href{https://raw.githubusercontent.com/fh-trier/tgdb_ws1819/master/sql/sqlplus-settings.sql}{github.com} hinterlegt.

\end{info-popup}

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_02.loesung}
\inputsql{sql/uebung_01/aufgabe_02.sql}

% ############################### Aufgabe 03 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_03}
Modifiziere Aufgabe \ref{sec:uebung_01.aufgabe_02} so, dass ein ähnliches Ergebnis zurück geliefert wird wie in Abbildung \ref{tbl:uebung_01.aufgabe_03}.

\begin{table}[H]
  \ttfamily
  \begin{tabularx}{\textwidth}{X|X|X|X}
    \textbf{FIRSTNAME} & \textbf{LASTNAME} & \textbf{BIRTHDAY} & \textbf{HIREDATE} \\
    \hline\hline
    Maximilian & Arbeitsscheu & 1998-06-21 & 2007-04-18 \\
    Henry & Großkreutz & 1990-09-01 & 2009-02-10 \\
    Leni & Mayer & 1996-10-15 & 2009-02-10 \\
    $[$\dots$]$ & $[$\dots$]$ & $[$\dots$]$ & $[$\dots$]$ \\
  \end{tabularx}
  \caption{Beispielhaftes Abfrageergebnis zu Aufgabe \ref{sec:uebung_01.aufgabe_03}}
  \label{tbl:uebung_01.aufgabe_03}
\end{table}

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_03.loesung}
\inputsql{sql/uebung_01/aufgabe_03.sql}

% ############################### Aufgabe 04 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_04}
Modifiziere Aufgabe \ref{sec:uebung_01.aufgabe_03} so, dass nur Mitarbeiter angezeigt werden, deren Nachname mit einem \textbf{A} beginnt.

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_04.loesung}
\inputsql{sql/uebung_01/aufgabe_04.sql}

% ############################### Aufgabe 05 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_05}
Gebe alle Mitarbeiter aus, die an vierter Stelle ihres Nachnamens ein \textbf{i} oder ein \textbf{ß} besitzen.

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_05.loesung}
\inputsql{sql/uebung_01/aufgabe_05.sql}

% ############################### Aufgabe 06 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_06}
Gebe alle Mitarbeiter aus, die in den 90er Jahren geboren sind.

\begin{info-popup}
  Nutze die Funktion \sqlinline{TO_CHAR(datum, 'format')} um ein Datum in einen CHAR-Value zu formatieren - \href{https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions180.htm}{Dokumentation}.

\end{info-popup}

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_06.loesung}
\inputsql{sql/uebung_01/aufgabe_06.sql}

% ############################### Aufgabe 07 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_07}
Gebe alle Kontakte aus, die der Firma \textbf{Thyssen} angehören und suche nach Personen, deren Telefonnummer auf \textbf{0211} endet.

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_07.loesung}
\inputsql{sql/uebung_01/aufgabe_07.sql}

% ############################### Aufgabe 08 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_08}
Welchem Unternehmen gehört \textit{Lena Hörnchen} an?

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_08.loesung}
\inputsql{sql/uebung_01/aufgabe_08.sql}

% ############################### Aufgabe 09 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_09}
Lasse dir mittels \sqlinline{WHERE ROWNUM <= 10} in der \texttt{WHERE}-Bedingung eines \texttt{SELECT}-Statements die ersten 10 Datensätze aus der Tabelle \texttt{CONTACTS} anzeigen. Was fällt dir auf?

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_09.loesung}
\inputsql{sql/uebung_01/aufgabe_09.sql}

% ############################### Aufgabe 10 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_10}
Lasse dir alle Kontakte ausgeben die keine E-Mail Adresse haben.

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_10.loesung}
\inputsql{sql/uebung_01/aufgabe_10.sql}

% ############################### Aufgabe 11 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_11}
Gebe eine Liste aus, in welchen Regalen das Material \textbf{Edelstahl} vom Typ \textbf{1.4301, Geschliffen} vorhanden ist. Eine Beispielausgabe findest du unter der Tabelle \ref{tbl:uebung_01.aufgabe_11}

\begin{table}[H]
  \ttfamily
  \begin{tabularx}{\textwidth}{X|X}
    \textbf{SHELF\_NAME} & \textbf{SHELF\_NUMBER} \\
    \hline\hline
    A & 30 \\
    A & 50 \\
    B & 20 \\
    $[$\dots$]$ & $[$\dots$]$ \\
  \end{tabularx}
  \caption{Examplarisches Abfrageergebnis für Aufgabe \ref{sec:uebung_01.aufgabe_11}}
  \label{tbl:uebung_01.aufgabe_11}
\end{table}

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_11.loesung}
\inputsql{sql/uebung_01/aufgabe_11.sql}


% ############################### Aufgabe 12 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_12}
Versuche die Spalten aus Aufgabe \ref{sec:uebung_01.aufgabe_11} zu einer Spalte zu konkatenieren - \href{https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions026.htm}{Dokumentation}.

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_12.loesung}
\inputsql{sql/uebung_01/aufgabe_12.sql}

% ############################### Aufgabe 13 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_13}
Versuche die Aufgabe \ref{sec:uebung_01.aufgabe_11} mit einer \sqlinline{WHERE}-Bedingungen zu lösen.

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_13.loesung}
\inputsql{sql/uebung_01/aufgabe_13.sql}

% ############################### Aufgabe 14 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_14}
Welche Firmen haben ihren Sitz im Ausland?

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_14.loesung}
\inputsql{sql/uebung_01/aufgabe_14.sql}

% ############################### Aufgabe 15 ###############################
\subsection{Aufgabe}
\label{sec:uebung_01.aufgabe_15}
Welche Mitarbeiter haben noch keinen Eintrag in der Tabelle \texttt{STORAGE}? Löse die Aufgabe per \texttt{JOIN}-Statement.

\subsubsection*{Lösung}
\label{sec:uebung_01.aufgabe_15.loesung}
\inputsql{sql/uebung_01/aufgabe_15.sql}

% ##########################################################################
% ############################# Übungsblatt 03 #############################
% ##########################################################################
\section{Übungsblatt}
\label{sec:uebung_03}

% ############################### Aufgabe 01 ###############################
\subsection{Aufgabe}
\label{sec:uebung_03.aufgabe_01}
Gebe alle Rollen der aktuellen Session aus.

\subsubsection*{Lösung}
\label{sec:uebung_03.aufgabe_01.loesung}
\inputsql{sql/uebung_03/aufgabe_01.sql}

% ############################### Aufgabe 02 ###############################
\subsection{Aufgabe}
\label{sec:uebung_03.aufgabe_02}
Ermittle warum du \texttt{INSERT}-Rechte auf die Tabelle \texttt{PESCHM.CONTACTS} und \texttt{UPDATE}-Rechte auf die Tabelle \texttt{PESCHM.STORAGE} besitzt.
Dabei sollen folgende Fragen beantwortet werden:

\begin{itemize}[itemsep=0pt]
  \item Wurden die Tabellen-Rechte direkt an dich oder an \texttt{PUBLIC} vergeben?
  \item Welche Rollen besitzt du direkt? Unterscheidet sich zu Aufgabe \ref{sec:uebung_03.aufgabe_01}
  \item Welche Rollen sind anderen Rollen zugeordnet?
  \item Haben Rollen Rechte an \texttt{PESCHM.CONTACTS} oder \texttt{PESCHM.STORAGE}?
\end{itemize}

\subsubsection*{Lösung}
\label{sec:uebung_03.aufgabe_02.loesung}
\inputsql{sql/uebung_03/aufgabe_02.sql}

% ############################### Aufgabe 03 ###############################
\subsection{Aufgabe}
\label{sec:uebung_03.aufgabe_03}
Füge einen neuen Kontakt in die Tabelle \texttt{PESCHM.CONTACTS} ein.

\subsubsection*{Lösung}
\label{sec:uebung_03.aufgabe_03.loesung}
\inputsql{sql/uebung_03/aufgabe_03.sql}

% ############################### Aufgabe 04 ###############################
\subsection{Aufgabe}
\label{sec:uebung_03.aufgabe_04}
Verkürze den Namen der Ressource \texttt{PESCHM.CONTACTS} durch ein \texttt{SYNONYM}.

\subsubsection*{Lösung}
\label{sec:uebung_03.aufgabe_04.loesung}
\inputsql{sql/uebung_03/aufgabe_04.sql}

% ############################### Aufgabe 05 ###############################
\subsection{Aufgabe}
\label{sec:uebung_03.aufgabe_05}
Ermittle alle Kontakte aus der Tabelle \texttt{CONTACTS} und der Tabelle \texttt{PESCHM.CONTACTS} unter Angabe deiner verkürzten Schreibweise aus Aufgabe \ref{sec:uebung_03.aufgabe_04}. Vermeide die Ausgabe doppelter Einträge.

\subsubsection*{Lösung}
\label{sec:uebung_03.aufgabe_05.loesung}
\inputsql{sql/uebung_03/aufgabe_05.sql}

% ############################### Aufgabe 06 ###############################
\subsection{Aufgabe}
\label{sec:uebung_03.aufgabe_06}
Speichere die Abfrage aus Aufgabe \ref{sec:uebung_03.aufgabe_05} als \texttt{VIEW}.

\subsubsection*{Lösung}
\label{sec:uebung_03.aufgabe_06.loesung}
\inputsql{sql/uebung_03/aufgabe_06.sql}

% ############################### Aufgabe 07 ###############################
\subsection{Aufgabe}
\label{sec:uebung_03.aufgabe_07}
Räume dem Benutzer \texttt{PESCHM} und der Rolle \texttt{FH\_TRIER} das Recht ein, Datensätze aus dem Lager zu abzurufen. Dabei soll der Benutzer \texttt{PESCHM} nur die Spalten \texttt{STORAGE\_ID}, \texttt{CONTACT\_ID} lesen dürfen.

\subsubsection*{Lösung}
\label{sec:uebung_03.aufgabe_07.loesung}
\inputsql{sql/uebung_03/aufgabe_07.sql}